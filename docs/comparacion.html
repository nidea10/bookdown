<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 16 Comparacion | MODELACIÓN DEL PRECIO PARA LA COMPRA Y VENTA DE ACEITE DE SOYA</title>
  <meta name="description" content="Modelación del precio del aceite de soya mediante series de tiempo y machine learning." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 16 Comparacion | MODELACIÓN DEL PRECIO PARA LA COMPRA Y VENTA DE ACEITE DE SOYA" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Modelación del precio del aceite de soya mediante series de tiempo y machine learning." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 16 Comparacion | MODELACIÓN DEL PRECIO PARA LA COMPRA Y VENTA DE ACEITE DE SOYA" />
  
  <meta name="twitter:description" content="Modelación del precio del aceite de soya mediante series de tiempo y machine learning." />
  

<meta name="author" content="Nidia Munevar - Leonardo Palacios" />


<meta name="date" content="2023-10-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="jordan.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Resumen</a></li>
<li class="chapter" data-level="2" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>2</b> Introduccion</a></li>
<li class="chapter" data-level="3" data-path="justificacion.html"><a href="justificacion.html"><i class="fa fa-check"></i><b>3</b> Justificacion</a></li>
<li class="chapter" data-level="4" data-path="serie-de-tiempo.html"><a href="serie-de-tiempo.html"><i class="fa fa-check"></i><b>4</b> Serie de Tiempo</a></li>
<li class="chapter" data-level="5" data-path="analisis-exploratorio.html"><a href="analisis-exploratorio.html"><i class="fa fa-check"></i><b>5</b> Analisis Exploratorio</a></li>
<li class="chapter" data-level="6" data-path="promedio-movil.html"><a href="promedio-movil.html"><i class="fa fa-check"></i><b>6</b> Promedio Movil</a></li>
<li class="chapter" data-level="7" data-path="rezago.html"><a href="rezago.html"><i class="fa fa-check"></i><b>7</b> Rezago</a></li>
<li class="chapter" data-level="8" data-path="descomposicion.html"><a href="descomposicion.html"><i class="fa fa-check"></i><b>8</b> Descomposicion</a></li>
<li class="chapter" data-level="9" data-path="estacionariedad.html"><a href="estacionariedad.html"><i class="fa fa-check"></i><b>9</b> Estacionariedad</a></li>
<li class="chapter" data-level="10" data-path="diferenciacion.html"><a href="diferenciacion.html"><i class="fa fa-check"></i><b>10</b> Diferenciacion</a></li>
<li class="chapter" data-level="11" data-path="holter-winter.html"><a href="holter-winter.html"><i class="fa fa-check"></i><b>11</b> Holter-Winter</a></li>
<li class="chapter" data-level="12" data-path="arima.html"><a href="arima.html"><i class="fa fa-check"></i><b>12</b> ARIMA</a></li>
<li class="chapter" data-level="13" data-path="prophet.html"><a href="prophet.html"><i class="fa fa-check"></i><b>13</b> Prophet</a></li>
<li class="chapter" data-level="14" data-path="elman.html"><a href="elman.html"><i class="fa fa-check"></i><b>14</b> Elman</a></li>
<li class="chapter" data-level="15" data-path="jordan.html"><a href="jordan.html"><i class="fa fa-check"></i><b>15</b> Jordan</a></li>
<li class="chapter" data-level="16" data-path="comparacion.html"><a href="comparacion.html"><i class="fa fa-check"></i><b>16</b> Comparacion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MODELACIÓN DEL PRECIO PARA LA COMPRA Y VENTA DE ACEITE DE SOYA</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="comparacion" class="section level1 hasAnchor" number="16">
<h1><span class="header-section-number">Chapter 16</span> Comparacion<a href="comparacion.html#comparacion" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="comparacion.html#cb105-1" tabindex="-1"></a><span class="co"># Instalar el paquete (solo necesitas hacer esto una vez)</span></span>
<span id="cb105-2"><a href="comparacion.html#cb105-2" tabindex="-1"></a><span class="co"># install.packages(&quot;forecast&quot;)</span></span>
<span id="cb105-3"><a href="comparacion.html#cb105-3" tabindex="-1"></a></span>
<span id="cb105-4"><a href="comparacion.html#cb105-4" tabindex="-1"></a><span class="co"># Cargar el paquete</span></span>
<span id="cb105-5"><a href="comparacion.html#cb105-5" tabindex="-1"></a><span class="fu">library</span>(forecast)</span></code></pre></div>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="comparacion.html#cb106-1" tabindex="-1"></a><span class="co"># Dividir los datos en conjuntos de entrenamiento y validación</span></span>
<span id="cb106-2"><a href="comparacion.html#cb106-2" tabindex="-1"></a>train_length <span class="ot">&lt;-</span> <span class="fu">nrow</span>(soybean_xts) <span class="sc">-</span> <span class="dv">30</span>  <span class="co"># 30 días para validación</span></span>
<span id="cb106-3"><a href="comparacion.html#cb106-3" tabindex="-1"></a></span>
<span id="cb106-4"><a href="comparacion.html#cb106-4" tabindex="-1"></a><span class="co"># Datos de entrenamiento</span></span>
<span id="cb106-5"><a href="comparacion.html#cb106-5" tabindex="-1"></a>train_data <span class="ot">&lt;-</span> <span class="fu">head</span>(soybean_xts, train_length)</span>
<span id="cb106-6"><a href="comparacion.html#cb106-6" tabindex="-1"></a></span>
<span id="cb106-7"><a href="comparacion.html#cb106-7" tabindex="-1"></a><span class="co"># Datos de validación</span></span>
<span id="cb106-8"><a href="comparacion.html#cb106-8" tabindex="-1"></a>validation_data <span class="ot">&lt;-</span> <span class="fu">tail</span>(soybean_xts, <span class="dv">30</span>)</span></code></pre></div>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="comparacion.html#cb107-1" tabindex="-1"></a>arima_forecast <span class="ot">&lt;-</span> <span class="fu">forecast</span>(modelo, <span class="at">h=</span><span class="dv">30</span>)</span></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="comparacion.html#cb108-1" tabindex="-1"></a><span class="co"># 2. Calcular métricas de error</span></span>
<span id="cb108-2"><a href="comparacion.html#cb108-2" tabindex="-1"></a></span>
<span id="cb108-3"><a href="comparacion.html#cb108-3" tabindex="-1"></a><span class="co"># Holt-Winters</span></span>
<span id="cb108-4"><a href="comparacion.html#cb108-4" tabindex="-1"></a>hw_errors <span class="ot">&lt;-</span> validation_data<span class="sc">$</span>ZS.F.Close <span class="sc">-</span> hw_forecast<span class="sc">$</span>mean</span></code></pre></div>
<pre><code>## Warning: Métodos incompatibles (&quot;Ops.xts&quot;, &quot;Ops.ts&quot;) para &quot;-&quot;</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="comparacion.html#cb110-1" tabindex="-1"></a>hw_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>(hw_errors<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb110-2"><a href="comparacion.html#cb110-2" tabindex="-1"></a>hw_mae <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(hw_errors))</span>
<span id="cb110-3"><a href="comparacion.html#cb110-3" tabindex="-1"></a>hw_rmse <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(hw_mse)</span>
<span id="cb110-4"><a href="comparacion.html#cb110-4" tabindex="-1"></a></span>
<span id="cb110-5"><a href="comparacion.html#cb110-5" tabindex="-1"></a><span class="co"># ARIMA</span></span>
<span id="cb110-6"><a href="comparacion.html#cb110-6" tabindex="-1"></a>arima_errors <span class="ot">&lt;-</span> validation_data<span class="sc">$</span>ZS.F.Close <span class="sc">-</span> arima_forecast<span class="sc">$</span>mean</span></code></pre></div>
<pre><code>## Warning: Métodos incompatibles (&quot;Ops.xts&quot;, &quot;Ops.ts&quot;) para &quot;-&quot;</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="comparacion.html#cb112-1" tabindex="-1"></a>arima_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>(arima_errors<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb112-2"><a href="comparacion.html#cb112-2" tabindex="-1"></a>arima_mae <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(arima_errors))</span>
<span id="cb112-3"><a href="comparacion.html#cb112-3" tabindex="-1"></a>arima_rmse <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(arima_mse)</span>
<span id="cb112-4"><a href="comparacion.html#cb112-4" tabindex="-1"></a></span>
<span id="cb112-5"><a href="comparacion.html#cb112-5" tabindex="-1"></a><span class="co"># Prophet</span></span>
<span id="cb112-6"><a href="comparacion.html#cb112-6" tabindex="-1"></a>prophet_errors <span class="ot">&lt;-</span> validation_data<span class="sc">$</span>ZS.F.Close <span class="sc">-</span> <span class="fu">tail</span>(forecast<span class="sc">$</span>yhat, <span class="at">n=</span><span class="dv">30</span>) <span class="co"># Asumiendo que el período de validación es 30 días.</span></span>
<span id="cb112-7"><a href="comparacion.html#cb112-7" tabindex="-1"></a>prophet_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>(prophet_errors<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb112-8"><a href="comparacion.html#cb112-8" tabindex="-1"></a>prophet_mae <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(prophet_errors))</span>
<span id="cb112-9"><a href="comparacion.html#cb112-9" tabindex="-1"></a>prophet_rmse <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(prophet_mse)</span></code></pre></div>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="comparacion.html#cb113-1" tabindex="-1"></a><span class="co"># 3. Comparar errores</span></span>
<span id="cb113-2"><a href="comparacion.html#cb113-2" tabindex="-1"></a></span>
<span id="cb113-3"><a href="comparacion.html#cb113-3" tabindex="-1"></a>errors_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb113-4"><a href="comparacion.html#cb113-4" tabindex="-1"></a>  <span class="at">Model =</span> <span class="fu">c</span>(<span class="st">&quot;Holt-Winters&quot;</span>, <span class="st">&quot;ARIMA&quot;</span>, <span class="st">&quot;Prophet&quot;</span>),</span>
<span id="cb113-5"><a href="comparacion.html#cb113-5" tabindex="-1"></a>  <span class="at">MSE =</span> <span class="fu">c</span>(hw_mse, arima_mse, prophet_mse),</span>
<span id="cb113-6"><a href="comparacion.html#cb113-6" tabindex="-1"></a>  <span class="at">MAE =</span> <span class="fu">c</span>(hw_mae, arima_mae, prophet_mae),</span>
<span id="cb113-7"><a href="comparacion.html#cb113-7" tabindex="-1"></a>  <span class="at">RMSE =</span> <span class="fu">c</span>(hw_rmse, arima_rmse, prophet_rmse)</span>
<span id="cb113-8"><a href="comparacion.html#cb113-8" tabindex="-1"></a>)</span>
<span id="cb113-9"><a href="comparacion.html#cb113-9" tabindex="-1"></a></span>
<span id="cb113-10"><a href="comparacion.html#cb113-10" tabindex="-1"></a><span class="fu">print</span>(errors_df)</span></code></pre></div>
<pre><code>##          Model        MSE       MAE      RMSE
## 1 Holt-Winters 1796855.93 1340.0883 1340.4685
## 2        ARIMA 1796071.65 1339.8250 1340.1760
## 3      Prophet   53710.17  224.0065  231.7546</code></pre>
<p>Conclusion:</p>
<p>Los resultados que se presentan son métricas de error para tres modelos diferentes: Holt-Winters, ARIMA y Prophet. Estas métricas nos dan una idea de cómo se desempeñaron estos modelos al predecir tu serie de tiempo en comparación con los valores reales de tus datos de validación.</p>
<p>A partir de las métricas presentadas, podemos deducir lo siguiente:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Mean Squared Error (MSE)</strong>: Mide el promedio de los errores al cuadrado. Es una métrica que da más peso a errores grandes. Los valores MSE son 1796855.93, 1796071.65 y 54135.22 para Holt-Winters, ARIMA y Prophet respectivamente. Aquí, Prophet tiene un MSE mucho menor en comparación con los otros dos modelos, lo que indica que, en promedio, sus errores son más pequeños.</p></li>
<li><p><strong>Mean Absolute Error (MAE)</strong>: Mide el promedio de los valores absolutos de los errores. Los valores MAE son 1340.0883, 1339.8250 y 226.6025 para Holt-Winters, ARIMA y Prophet respectivamente. Nuevamente, Prophet tiene un MAE mucho menor, lo que indica que tiende a hacer predicciones más cercanas al valor real en comparación con los otros dos modelos.</p></li>
<li><p><strong>Root Mean Squared Error (RMSE)</strong>: Es la raíz cuadrada del MSE y da una idea de la magnitud del error. Los valores RMSE son 1340.4685, 1340.1760 y 232.6698 para Holt-Winters, ARIMA y Prophet respectivamente. Al igual que con las otras dos métricas, Prophet tiene un RMSE significativamente menor, lo que indica que generalmente hace predicciones más precisas.</p></li>
</ol>
<p><strong>Conclusión</strong>:</p>
<ul>
<li><p>El modelo <strong>Prophet</strong> parece ser el más preciso de los tres según todas las métricas presentadas. Sus errores, tanto en términos absolutos como cuadrados, son significativamente menores que los de los otros dos modelos.</p></li>
<li><p>Los modelos <strong>Holt-Winters</strong> y <strong>ARIMA</strong> tienen un desempeño similar entre sí según estas métricas, pero son superados por Prophet.</p></li>
</ul>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="jordan.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/15-Comparacion.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
